<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>knitpkg.yaml – KnitPkg Manifest Specification</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.2.0/github-markdown.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
  <style>
    body { font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif; background:#0d1117; color:#c9d1d9; margin:0; padding:0; }
    .markdown-body { box-sizing:border-box; min-width:200px; max-width:980px; margin:40px auto; padding:45px; background:#161b22; border-radius:12px; box-shadow:0 4px 20px rgba(0,0,0,0.3); }
    @media (max-width:767px) { .markdown-body { padding:20px; margin:20px; } }
    pre, code { background:#0d1117 !important; border-radius:8px; }
    h1,h2,h3 { color:#58a6ff; border-bottom:1px solid #30363d; padding-bottom:8px; }
    table { width:100%; border-collapse:collapse; margin:20px 0; }
    th,td { border:1px solid #30363d; padding:12px; text-align:left; }
    th { background:#21262d; }
    .required { color:#f85149; }
    .optional { color:#7ee787; }
    .default { font-size:0.9em; color:#a5d6ff; }
  </style>
</head>
<body>
<article class="markdown-body">
  <h1>knitpkg.yaml – KnitPkg Project Manifest</h1>
  <p><strong>The official configuration file for all KnitPkg-powered projects.</strong></p>
  
  <hr>

  <h2>Fields</h2>
  <table>
    <tr><th>Field</th><th>Required</th><th>Type</th><th>Default</th><th>Description</th></tr>
    <tr><td><code>name</code></td><td class="required">Yes</td><td>str</td><td>—</td><td>Project name (alphanumeric, hyphens, underscores, dots only)</td></tr>
    <tr><td><code>version</code></td><td class="required">Yes</td><td>str</td><td>—</td><td>Required Semantic Versioning string (e.g. 1.0.0)</td></tr>
    <tr><td><code>description</code></td><td class="optional">No</td><td>Optional</td><td><code>None</code></td><td>Short project description</td></tr>
    <tr><td><code>author</code></td><td class="optional">No</td><td>Optional</td><td><code>None</code></td><td>Author or team name</td></tr>
    <tr><td><code>license</code></td><td class="optional">No</td><td>Optional</td><td><code>MIT</code></td><td>License identifier (default: MIT)</td></tr>
    <tr><td><code>type</code></td><td class="required">Yes</td><td>ProjectType</td><td>—</td><td>Project type: package (reusable components) or platform-specific types</td></tr>
    <tr><td><code>target</code></td><td class="required">Yes</td><td>Target</td><td>—</td><td>Target platform</td></tr>
    <tr><td><code>dependencies</code></td><td class="optional">No</td><td>object</td><td><code>{}</code></td><td>Dependencies with Git URLs or local paths and version constraints</td></tr>
    <tr><td><code>include_mode</code></td><td class="optional">No</td><td>IncludeMode</td><td><code>include</code></td><td>Specific for MQL4/5 projects. Use 'include' (copy .mqh) or 'flat' (generate _flat files). Forced to 'flat' for type='package'.</td></tr>
    <tr><td><code>entrypoints</code></td><td class="optional">No*</td><td>Optional</td><td><code>None</code></td><td>Main source files. Required except for type='package'</td></tr>
    <tr><td><code>dist</code></td><td class="optional">No</td><td>Optional</td><td><code>None</code></td><td>Distribution package configuration</td></tr>
    <tr><td><code>knitpkg</code></td><td class="optional">No</td><td>Optional</td><td><code>None</code></td><td>KnitPkg Pro and Enterprise settings</td></tr>
  </table>

  <h2>Project Types (<code>type</code>)</h2>
  <ul>
    <li><code>package</code> → Reusable component that other projects can depend on. <strong>MQL4/5 specific: </strong>header-only library (.mqh); allows entrypoints for test scripts (automatically uses <code>flat</code> mode).</li>
    <li><code>mql.expert</code> → MQL4/5 Expert Advisor</li>
    <li><code>mql.indicator</code> → MQL4/5 Custom indicator</li>
    <li><code>mql.script</code> → MQL4/5 Script</li>
    <li><code>mql.library</code> → MQL4/5 library</li>
  </ul>

  <h2>Dependency Formats (supported)</h2>
  <ul>
    <li><code>https://github.com/user/repo.git#v1.2.3</code> → Git + version/tag/branch/commit</li>
    <li><code>file://../my-lib</code> → Local KnitPkg project</li>
    <li><code>./libs/utils</code> or <code>../common</code> → Relative path</li>
  </ul>

  <h2>Full Example</h2>
  <pre><code class="language-yaml">
name: QuantumEA
version: 3.1.0
description: Advanced multi-timeframe Expert Advisor
author: John Trader
license: MIT
type: mql.expert
target: MQL5
include_mode: flat

entrypoints:
  - Dependencies.mqh
  - Strategy.mqh
  - QuantumEA.mq5

dependencies:
  bars: https://github.com/trader/bars.git#v2.1.0
  utils: file://../common/utils
  indicators: ./local/indicators

dist:
  dist:
    - id: release
      name: QuantumEA-${version}.zip
      items:
        - dependencyId: this
          src: QuantumEA.mq5
          dst: Experts/QuantumEA.mq5
  </code></pre>

  <hr>
  <p style="text-align:center; color:#8b949e; font-size:0.9em;">
    KnitPkg 2025 – The future of MQL5 development
  </p>
</article>
</body>
</html>
